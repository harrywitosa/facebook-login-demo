<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vote</title>
    <script>
        async function submitVote() {
            const name = document.getElementById('name').value;
            const destination = document.getElementById('destination').value;

            try {
                const response = await fetch('http://localhost:3000/proxy', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ name, destination })
                });

                if (response.ok) {
                    document.getElementById('voteForm').style.display = 'none';
                    document.getElementById('thankYouMessage').style.display = 'block';
                } else {
                    alert('Det oppsto en feil. Vennligst prøv igjen.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Det oppsto en feil. Vennligst prøv igjen.');
            }
        }
    </script>
</head>
<body>
    <div id="voteForm">
        <input type="text" id="name" placeholder="Navn">
        <select id="destination">
            <option value="Volvo-museet i Göteborg">Volvo-museet i Göteborg</option>
            <option value="Scania-museet i Södertälje">Scania-museet i Södertälje</option>
            <option value="Norsk vegmuseum i Lillehammer">Norsk vegmuseum i Lillehammer</option>
            <option value="Telemark Teknologisk Innovasjonspark i Skien">Telemark Teknologisk Innovasjonspark i Skien</option>
        </select>
        <button onclick="submitVote()">Stem</button>
    </div>
    <div id="thankYouMessage" style="display:none;">
        Takk for stemmen din!
    </div>
</body>
</html>
